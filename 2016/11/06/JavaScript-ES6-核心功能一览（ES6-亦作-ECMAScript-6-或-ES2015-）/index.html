<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="A contented mind is a perpetual feast."><title> JavaScript ES6 æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆï¼ˆES6 äº¦ä½œ ECMAScript 6 æˆ– ES2015+ï¼‰ | WaterBlog</title><link rel="stylesheet" type="text/css" href="/css/style.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden"> JavaScript ES6 æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆï¼ˆES6 äº¦ä½œ ECMAScript 6 æˆ– ES2015+ï¼‰</h1><a id="logo" href="/.">WaterBlog</a><p class="description">WaterGayGayçš„åšå®¢</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> é¦–é¡µ</i></a><a href="/archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="/collection/"><i class="fa fa-bookmark"> æ”¶è—</i></a><a href="/history/"><i class="fa fa-book"> å†å²</i></a><a href="/about/"><i class="fa fa-user"> å…³äº</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title"> JavaScript ES6 æ ¸å¿ƒåŠŸèƒ½ä¸€è§ˆï¼ˆES6 äº¦ä½œ ECMAScript 6 æˆ– ES2015+ï¼‰</h1><div class="post-meta">Nov 6, 2016</div><div class="post-content"><blockquote>
<ul>
<li>åŸæ–‡åœ°å€ï¼š<a href="http://adrianmejia.com/blog/2016/10/19/Overview-of-JavaScript-ES6-features-a-k-a-ECMAScript-6-and-ES2015/" target="_blank" rel="external">Overview of JavaScript ES6 features (a.k.a ECMAScript 6 and ES2015+)</a></li>
<li>åŸæ–‡ä½œè€…ï¼š<a href="http://adrianmejia.com/#about" target="_blank" rel="external">Adrian Mejia</a></li>
<li>è¯‘æ–‡å‡ºè‡ªï¼š<a href="https://github.com/xitu/gold-miner" target="_blank" rel="external">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a></li>
<li>è¯‘è€…ï¼š<a href="https://github.com/L9m" target="_blank" rel="external">L9m</a></li>
<li>æ ¡å¯¹è€…ï¼š<a href="https://github.com/Tina92" target="_blank" rel="external">Tina92</a>ï¼Œ<a href="https://github.com/luoyaqifei" target="_blank" rel="external">luoyaqifei</a>ï¼Œ<a href="https://github.com/theJian" target="_blank" rel="external">theJian</a></li>
</ul>
</blockquote>
<p>JavaScript åœ¨è¿‡å»å‡ å¹´é‡Œå‘ç”Ÿäº†å¾ˆå¤§çš„å˜åŒ–ã€‚è¿™é‡Œä»‹ç» 12 ä¸ªä½ é©¬ä¸Šå°±èƒ½ç”¨çš„æ–°åŠŸèƒ½ã€‚<br><a id="more"></a></p>
<h1 id="JavaScript-å†å²"><a href="#JavaScript-å†å²" class="headerlink" title="JavaScript å†å²"></a>JavaScript å†å²</h1><p>æ–°çš„è¯­è¨€è§„èŒƒè¢«ç§°ä½œ ECMAScript 6ã€‚ä¹Ÿç§°ä¸º ES6 æˆ– ES2015+ ã€‚</p>
<p>è‡ªä» 1995 å¹´ JavaScript è¯ç”Ÿä»¥æ¥ï¼Œå®ƒä¸€ç›´åœ¨ç¼“æ…¢åœ°å‘å±•ã€‚æ¯éš”å‡ å¹´å°±ä¼šå¢åŠ ä¸€äº›æ–°å†…å®¹ã€‚1997 å¹´ï¼ŒECMAScript æˆä¸º JavaScript è¯­è¨€å®ç°çš„è§„èŒƒã€‚å®ƒå·²ç»æœ‰äº†å¥½å‡ ä¸ªç‰ˆæœ¬ï¼Œæ¯”å¦‚ ES3 , ES5 , ES6 ç­‰ç­‰ã€‚</p>
<p><img src="http://adrianmejia.com/images/history-javascript-evolution-es6.png" alt="" title="JavaScript å‘å±•å²"></p>
<p>å¦‚ä½ æ‰€è§ï¼ŒES3ï¼ŒES5 å’Œ ES6 ä¹‹é—´åˆ†åˆ«å­˜åœ¨ç€ 10 å¹´å’Œ 6 å¹´çš„é—´éš”ã€‚åƒ ES6 é‚£æ ·ä¸€æ¬¡è¿›è¡Œå¤§å¹…ä¿®æ”¹çš„æ¨¡å¼è¢«é€å¹´æ¸è¿›å¼çš„æ–°æ¨¡å¼æ‰€æ›¿ä»£ã€‚</p>
<h1 id="æµè§ˆå™¨æ”¯æŒ"><a href="#æµè§ˆå™¨æ”¯æŒ" class="headerlink" title="æµè§ˆå™¨æ”¯æŒ"></a>æµè§ˆå™¨æ”¯æŒ</h1><p>æ‰€æœ‰ç°ä»£æµè§ˆå™¨å’Œç¯å¢ƒéƒ½å·²æ”¯æŒ ES6ã€‚</p>
<p><img src="http://adrianmejia.com/images/es6-javascript-support.png" alt="" title="ES6 Support"></p>
<p>æ¥æº: <a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="external">https://kangax.github.io/compat-table/es6/</a></p>
<p>Chromeï¼ŒMS Edgeï¼ŒFirefoxï¼ŒSafariï¼ŒNode å’Œè®¸å¤šå…¶ä»–çš„ç¯å¢ƒéƒ½å·²å†…ç½®æ”¯æŒå¤§å¤šæ•°çš„ JavaScript ES6 åŠŸèƒ½ã€‚æ‰€ä»¥ï¼Œåœ¨æœ¬æ•™ç¨‹ä¸­ä½ å­¦åˆ°çš„æ¯ä¸ªçŸ¥è¯†ï¼Œä½ éƒ½å¯ä»¥é©¬ä¸Šå¼€å§‹åº”ç”¨ã€‚</p>
<p>è®©æˆ‘ä»¬å¼€å§‹å­¦ä¹  ECMAScript 6 å§ï¼</p>
<h1 id="æ ¸å¿ƒ-ES6-åŠŸèƒ½"><a href="#æ ¸å¿ƒ-ES6-åŠŸèƒ½" class="headerlink" title="æ ¸å¿ƒ ES6 åŠŸèƒ½"></a>æ ¸å¿ƒ ES6 åŠŸèƒ½</h1><p>ä½ å¯ä»¥åœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­æµ‹è¯•æ‰€æœ‰ä¸‹é¢çš„ä»£ç ç‰‡æ®µã€‚</p>
<p><img src="http://adrianmejia.com/images/javascript-es6-classes-on-browser-console.png" alt="" title="Testing Javascript ES6 classes on browser console"></p>
<p>ä¸è¦ç¬ƒä¿¡æˆ‘çš„è¯ï¼Œè€Œæ˜¯è¦äº²è‡ªå»æµ‹è¯•æ¯ä¸€ä¸ª ES5 å’Œ ES6 ç¤ºä¾‹ã€‚è®©æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å§ ğŸ’ª</p>
<h2 id="å˜é‡çš„å—çº§ä½œç”¨åŸŸ"><a href="#å˜é‡çš„å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å˜é‡çš„å—çº§ä½œç”¨åŸŸ"></a>å˜é‡çš„å—çº§ä½œç”¨åŸŸ</h2><p>ä½¿ç”¨ ES6ï¼Œå£°æ˜å˜é‡æˆ‘ä»¬å¯ä»¥ç”¨ <code>var</code> ï¼Œä¹Ÿå¯ä»¥ç”¨ <code>let</code> æˆ– <code>const</code>ã€‚</p>
<p><code>var</code> æœ‰ä»€ä¹ˆä¸è¶³ï¼Ÿ</p>
<p>ä½¿ç”¨ <code>var</code> çš„é—®é¢˜æ˜¯å˜é‡ä¼šæ¼å…¥å…¶ä»–ä»£ç å—ä¸­ï¼Œè¯¸å¦‚ <code>for</code> å¾ªç¯æˆ– <code>if</code> ä»£ç å—ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> x = <span class="string">'outer'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">inner</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (inner) &#123;</div><div class="line">    <span class="keyword">var</span> x = <span class="string">'inner'</span>; <span class="comment">// ä½œç”¨äºæ•´ä¸ª function</span></div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> x; <span class="comment">// å› ä¸ºç¬¬å››è¡Œçš„å£°æ˜æå‡ï¼Œè¢«é‡æ–°å®šä¹‰</span></div><div class="line">&#125;</div><div class="line">test(<span class="literal">false</span>); <span class="comment">// undefined ğŸ˜±</span></div><div class="line">test(<span class="literal">true</span>); <span class="comment">// inner</span></div></pre></td></tr></table></figure>
<p>å¯¹äº <code>test(fasle)</code> ï¼Œä½ æœŸæœ›è¿”å› <code>outer</code>ï¼Œ<strong>ä½†æ˜¯</strong>ï¼Œä½ å¾—åˆ°çš„æ˜¯ <code>undefined</code>ã€‚</p>
<p>ä¸ºä»€ä¹ˆï¼Ÿ</p>
<p>å› ä¸ºå°½ç®¡æ²¡æœ‰æ‰§è¡Œ <code>if</code> ä»£ç å—ï¼Œç¬¬å››è¡Œä¸­çš„è¡¨è¾¾å¼ <code>var x</code> ä¹Ÿä¼šè¢«æå‡ã€‚</p>
<blockquote>
<p>var <strong>æå‡</strong>ï¼š</p>
<ul>
<li><code>var</code> æ˜¯å‡½æ•°ä½œç”¨åŸŸã€‚åœ¨æ•´ä¸ªå‡½æ•°ä¸­ç”šè‡³æ˜¯å£°æ˜è¯­å¥ä¹‹å‰éƒ½æ˜¯å¯ç”¨çš„ã€‚</li>
<li>å£°æ˜è¢«æå‡ã€‚æ‰€ä»¥ä½ èƒ½åœ¨å£°æ˜ä¹‹å‰ä½¿ç”¨ä¸€ä¸ªå˜é‡ã€‚</li>
<li>åˆå§‹åŒ–æ˜¯ä¸è¢«æå‡çš„ã€‚å¦‚æœä½ ä½¿ç”¨ <code>var</code> å£°æ˜å˜é‡ï¼Œè¯·æ€»æ˜¯å°†å®ƒæ”¾åœ¨é¡¶éƒ¨ã€‚</li>
<li>åœ¨åº”ç”¨äº†å£°æ˜æå‡è§„åˆ™ä¹‹åï¼Œæˆ‘ä»¬å°±èƒ½æ›´å®¹æ˜“åœ°ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼š</li>
</ul>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> x = <span class="string">'outer'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">inner</span>) </span>&#123;</div><div class="line">    <span class="keyword">var</span> x; <span class="comment">// å£°æ˜æå‡</span></div><div class="line">    <span class="keyword">if</span> (inner) &#123;</div><div class="line">        x = <span class="string">'inner'</span>; <span class="comment">// åˆå§‹åŒ–ä¸è¢«æå‡</span></div><div class="line">        <span class="keyword">return</span> x;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>ECMAScript 2015 æ‰¾åˆ°äº†è§£å†³çš„åŠæ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="keyword">let</span> x = <span class="string">'outer'</span>;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">inner</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (inner) &#123;</div><div class="line">    <span class="keyword">let</span> x = <span class="string">'inner'</span>;</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> x; <span class="comment">// ä»ç¬¬ä¸€è¡Œè·å–åˆ°é¢„æœŸç»“æœ</span></div><div class="line">&#125;</div><div class="line">test(<span class="literal">false</span>); <span class="comment">// outer</span></div><div class="line">test(<span class="literal">true</span>); <span class="comment">// inner</span></div></pre></td></tr></table></figure>
<p>å°† <code>var</code> æ”¹ä¸º <code>let</code>ï¼Œä»£ç å°†åƒæœŸæœ›çš„é‚£æ ·è¿è¡Œã€‚å¦‚æœ <code>if</code> ä»£ç å—æ²¡æœ‰è¢«è°ƒç”¨ï¼Œ<code>x</code> å˜é‡ä¹Ÿå°±ä¸ä¼šåœ¨ä»£ç å—å¤–è¢«æå‡ã€‚</p>
<blockquote>
<p>let <strong>æå‡</strong> å’Œâ€œæš‚å­˜æ­»åŒºï¼ˆtemporal dead zoneï¼‰â€</p>
<ul>
<li>åœ¨ ES6 ä¸­ï¼Œ<code>let</code> å°†å˜é‡æå‡åˆ°ä»£ç å—çš„é¡¶éƒ¨ï¼ˆä¸æ˜¯åƒ ES5 é‚£æ ·çš„å‡½æ•°é¡¶éƒ¨ï¼‰ã€‚</li>
<li>ç„¶è€Œï¼Œä»£ç å—ä¸­ï¼Œåœ¨å˜é‡å£°æ˜ä¹‹å‰å¼•ç”¨å®ƒä¼šå¯¼è‡´ <code>ReferenceError</code> é”™è¯¯ã€‚</li>
<li><code>let</code> æ˜¯å—çº§ä½œç”¨åŸŸã€‚ä½ ä¸èƒ½åœ¨å®ƒè¢«å£°æ˜ä¹‹å‰å¼•ç”¨å®ƒã€‚</li>
<li>â€œæš‚å­˜æ­»åŒºï¼ˆTemporal dead zoneï¼‰â€æ˜¯æŒ‡ä»ä»£ç å—å¼€å§‹ç›´åˆ°å˜é‡è¢«å£°æ˜ä¹‹é—´çš„åŒºåŸŸã€‚</li>
</ul>
</blockquote>
<p><strong>IIFE</strong></p>
<p>åœ¨è§£é‡Š IIFE ä¹‹å‰è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­ã€‚æ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">var</span> private = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(private); <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œ<code>private</code> æ¼å‡º(ä»£ç å—)ã€‚ä½ éœ€è¦ä½¿ç”¨ IIFEï¼ˆimmediately-invoked function expressionï¼Œç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼‰æ¥åŒ…å«å®ƒï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> private2 = <span class="number">1</span>;</div><div class="line">&#125;)();</div><div class="line"><span class="built_in">console</span>.log(private2); <span class="comment">// Uncaught ReferenceError</span></div></pre></td></tr></table></figure>
<p>å¦‚æœä½ çœ‹ä¸€çœ‹ jQuery/loadsh æˆ–å…¶ä»–å¼€æºé¡¹ç›®ï¼Œä½ ä¼šæ³¨æ„åˆ°ä»–ä»¬ç”¨ IIFE æ¥é¿å…æ±¡æŸ“å…¨å±€ç¯å¢ƒè€Œä¸”åªåœ¨å…¨å±€ä¸­å®šä¹‰äº†è¯¸å¦‚ <code>_</code>ï¼Œ<code>$</code>å’Œ<code>jQuery</code>ã€‚ </p>
<p>åœ¨ ES6 ä¸Šåˆ™ä¸€ç›®äº†ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åªç”¨ä»£ç å—å’Œ <code>let</code>ï¼Œä¹Ÿä¸å†éœ€è¦ä½¿ç”¨ IIFEäº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line">&#123;</div><div class="line">  <span class="keyword">let</span> private3 = <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(private3); <span class="comment">// Uncaught ReferenceError</span></div></pre></td></tr></table></figure>
<p><strong>Const</strong></p>
<p>å¦‚æœä½ æƒ³è¦ä¸€ä¸ªå˜é‡ä¿æŒä¸å˜ï¼ˆå¸¸é‡ï¼‰ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ <code>const</code>ã€‚</p>
<p><img src="http://adrianmejia.com/images/javascript-es6-const-variables-example.png" alt="" title="const variable example"></p>
<blockquote>
<p>æ€»ä¹‹ï¼šç”¨ <code>let</code>ï¼Œ<code>const</code> è€Œä¸æ˜¯ <code>var</code></p>
<ul>
<li>å¯¹æ‰€æœ‰å¼•ç”¨ä½¿ç”¨ <code>const</code>ï¼›é¿å…ä½¿ç”¨ <code>var</code>ã€‚</li>
<li>å¦‚æœä½ å¿…é¡»é‡æ–°æŒ‡å®šå¼•ç”¨ï¼Œç”¨ <code>let</code> æ›¿ä»£ <code>const</code>ã€‚</li>
</ul>
</blockquote>
<h2 id="æ¨¡æ¿å­—é¢é‡"><a href="#æ¨¡æ¿å­—é¢é‡" class="headerlink" title="æ¨¡æ¿å­—é¢é‡"></a>æ¨¡æ¿å­—é¢é‡</h2><p>æœ‰äº†æ¨¡æ¿å­—é¢é‡ï¼Œæˆ‘ä»¬å°±ä¸ç”¨åšå¤šä½™çš„åµŒå¥—æ‹¼æ¥äº†ã€‚æ¥çœ‹ä¸€ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> first = <span class="string">'Adrian'</span>;</div><div class="line"><span class="keyword">var</span> last = <span class="string">'Mejia'</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Your name is '</span> + first + <span class="string">' '</span> + last + <span class="string">'.'</span>);</div></pre></td></tr></table></figure>
<p>ç°åœ¨ä½ å¯ä»¥ä½¿ç”¨åå¼•å· (`) å’Œå­—ç¬¦ä¸²æ’å€¼ <code>${}</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="keyword">const</span> first = <span class="string">'Adrian'</span>;</div><div class="line"><span class="keyword">const</span> last = <span class="string">'Mejia'</span>;</div><div class="line"><span class="built_in">console</span>.log(<span class="string">`Your name is <span class="subst">$&#123;first&#125;</span> <span class="subst">$&#123;last&#125;</span>.`</span>);</div></pre></td></tr></table></figure>
<h2 id="å¤šè¡Œå­—ç¬¦ä¸²"><a href="#å¤šè¡Œå­—ç¬¦ä¸²" class="headerlink" title="å¤šè¡Œå­—ç¬¦ä¸²"></a>å¤šè¡Œå­—ç¬¦ä¸²</h2><p>æˆ‘ä»¬å†ä¹Ÿä¸éœ€è¦æ·»åŠ  + <code>\n</code> æ¥æ‹¼æ¥å­—ç¬¦ä¸²äº†ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> template = <span class="string">'&lt;li *ngFor="let todo of todos" [ngClass]="&#123;completed: todo.isDone&#125;" &gt;\n'</span> +</div><div class="line"><span class="string">'  &lt;div class="view"&gt;\n'</span> +</div><div class="line"><span class="string">'    &lt;input class="toggle" type="checkbox" [checked]="todo.isDone"&gt;\n'</span> +</div><div class="line"><span class="string">'    &lt;label&gt;&lt;/label&gt;\n'</span> +</div><div class="line"><span class="string">'    &lt;button class="destroy"&gt;&lt;/button&gt;\n'</span> +</div><div class="line"><span class="string">'  &lt;/div&gt;\n'</span> +</div><div class="line"><span class="string">'  &lt;input class="edit" value=""&gt;\n'</span> +</div><div class="line"><span class="string">'&lt;/li&gt;'</span>;</div><div class="line"><span class="built_in">console</span>.log(template);</div></pre></td></tr></table></figure>
<p>åœ¨ ES6 ä¸Šï¼Œ æˆ‘ä»¬å¯ä»¥åŒæ ·ä½¿ç”¨åå¼•å·æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="keyword">const</span> template = <span class="string">`&lt;li *ngFor="let todo of todos" [ngClass]="&#123;completed: todo.isDone&#125;" &gt;</span></div><div class="line">  &lt;div class="view"&gt;</div><div class="line">    &lt;input class="toggle" type="checkbox" [checked]="todo.isDone"&gt;</div><div class="line">    &lt;label&gt;&lt;/label&gt;</div><div class="line">    &lt;button class="destroy"&gt;&lt;/button&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;input class="edit" value=""&gt;</div><div class="line">&lt;/li&gt;`;</div><div class="line"><span class="built_in">console</span>.log(template);</div></pre></td></tr></table></figure>
<p>ä¸¤æ®µä»£ç çš„ç»“æœæ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</p>
<h2 id="è§£æ„èµ‹å€¼"><a href="#è§£æ„èµ‹å€¼" class="headerlink" title="è§£æ„èµ‹å€¼"></a>è§£æ„èµ‹å€¼</h2><p>ES6 çš„è§£æ„ä¸ä»…å®ç”¨è€Œä¸”å¾ˆç®€æ´ã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼š</p>
<p><strong>ä»æ•°ç»„ä¸­è·å–å…ƒç´ </strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"><span class="keyword">var</span> first = array[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> third = array[<span class="number">2</span>];</div><div class="line"><span class="built_in">console</span>.log(first, third); <span class="comment">// 1 3</span></div></pre></td></tr></table></figure>
<p>ç­‰åŒäºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</div><div class="line"><span class="keyword">const</span> [first, ,third] = array;</div><div class="line"><span class="built_in">console</span>.log(first, third); <span class="comment">// 1 3</span></div></pre></td></tr></table></figure>
<p><strong>äº¤æ¢å€¼</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</div><div class="line"><span class="keyword">var</span> tmp = a;</div><div class="line">a = b;</div><div class="line">b = tmp;</div><div class="line"><span class="built_in">console</span>.log(a, b); <span class="comment">// 2 1</span></div></pre></td></tr></table></figure>
<p>ç­‰åŒäºï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="keyword">let</span> a = <span class="number">1</span>;</div><div class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</div><div class="line">[a, b] = [b, a];</div><div class="line"><span class="built_in">console</span>.log(a, b); <span class="comment">// 2 1</span></div></pre></td></tr></table></figure>
<p><strong>å¤šä¸ªè¿”å›å€¼çš„è§£æ„</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">margin</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> left=<span class="number">1</span>, right=<span class="number">2</span>, top=<span class="number">3</span>, bottom=<span class="number">4</span>;</div><div class="line">  <span class="keyword">return</span> &#123; left: left, right: right, top: top, bottom: bottom &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> data = margin();</div><div class="line"><span class="keyword">var</span> left = data.left;</div><div class="line"><span class="keyword">var</span> bottom = data.bottom;</div><div class="line"><span class="built_in">console</span>.log(left, bottom); <span class="comment">// 1 4</span></div></pre></td></tr></table></figure>
<p>åœ¨ç¬¬ 3 è¡Œä¸­ï¼Œä½ ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªåƒè¿™æ ·çš„æ•°ç»„è¿”å›ï¼ˆåŒæ—¶çœå»äº†ä¸€äº›ç¼–ç ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">return</span> [left, right, top, bottom];</div></pre></td></tr></table></figure>
<p>ä½†å¦ä¸€æ–¹é¢ï¼Œè°ƒç”¨è€…éœ€è¦è€ƒè™‘è¿”å›æ•°æ®çš„é¡ºåºã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> left = data[<span class="number">0</span>];</div><div class="line"><span class="keyword">var</span> bottom = data[<span class="number">3</span>];</div></pre></td></tr></table></figure>
<p>ç”¨ ES6ï¼Œè°ƒç”¨è€…åªéœ€é€‰æ‹©ä»–ä»¬éœ€è¦çš„æ•°æ®å³å¯ï¼ˆç¬¬ 6 è¡Œï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">margin</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">const</span> left=<span class="number">1</span>, right=<span class="number">2</span>, top=<span class="number">3</span>, bottom=<span class="number">4</span>;</div><div class="line">  <span class="keyword">return</span> &#123; left, right, top, bottom &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> &#123; left, bottom &#125; = margin();</div><div class="line"><span class="built_in">console</span>.log(left, bottom); <span class="comment">// 1 4</span></div></pre></td></tr></table></figure>
<p><em>æ³¨æ„ï¼š</em> åœ¨ç¬¬ 3 è¡Œä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†ä¸€äº›å…¶ä»–çš„ ES6 åŠŸèƒ½ã€‚æˆ‘ä»¬å°† <code>{ left: left }</code> ç®€åŒ–åˆ°åªæœ‰ <code>{ left }</code>ã€‚ä¸ ES5 ç‰ˆæœ¬ç›¸æ¯”ï¼Œå®ƒå˜å¾—å¦‚æ­¤ç®€æ´ã€‚é…·ä¸é…·ï¼Ÿ</p>
<p><strong>å‚æ•°åŒ¹é…çš„è§£æ„</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> user = &#123;firstName: <span class="string">'Adrian'</span>, lastName: <span class="string">'Mejia'</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">user</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> firstName = user.firstName;</div><div class="line">  <span class="keyword">var</span> lastName = user.lastName;</div><div class="line">  <span class="keyword">return</span> firstName + <span class="string">' '</span> + lastName;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(getFullName(user)); <span class="comment">// Adrian Mejia</span></div></pre></td></tr></table></figure>
<p>ç­‰åŒäºï¼ˆä½†æ›´ç®€æ´ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="keyword">const</span> user = &#123;firstName: <span class="string">'Adrian'</span>, lastName: <span class="string">'Mejia'</span>&#125;;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getFullName</span>(<span class="params">&#123; firstName, lastName &#125;</span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;firstName&#125;</span> <span class="subst">$&#123;lastName&#125;</span>`</span>;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(getFullName(user)); <span class="comment">// Adrian Mejia</span></div></pre></td></tr></table></figure>
<p><strong>æ·±åº¦åŒ¹é…</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">settings</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; display: &#123; color: <span class="string">'red'</span> &#125;, keyboard: &#123; layout: <span class="string">'querty'</span>&#125; &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> tmp = settings();</div><div class="line"><span class="keyword">var</span> displayColor = tmp.display.color;</div><div class="line"><span class="keyword">var</span> keyboardLayout = tmp.keyboard.layout;</div><div class="line"><span class="built_in">console</span>.log(displayColor, keyboardLayout); <span class="comment">// red querty</span></div></pre></td></tr></table></figure>
<p>ç­‰åŒäºï¼ˆä½†æ›´ç®€æ´ï¼‰ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">settings</span>(<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="keyword">return</span> &#123; display: &#123; color: <span class="string">'red'</span> &#125;, keyboard: &#123; layout: <span class="string">'querty'</span>&#125; &#125;;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> &#123; display: &#123; color: displayColor &#125;, keyboard: &#123; layout: keyboardLayout &#125;&#125; = settings();</div><div class="line"><span class="built_in">console</span>.log(displayColor, keyboardLayout); <span class="comment">// red querty</span></div></pre></td></tr></table></figure>
<p>è¿™ä¹Ÿç§°ä½œå¯¹è±¡çš„è§£æ„ã€‚</p>
<p>å¦‚ä½ æ‰€è§ï¼Œè§£æ„æ˜¯éå¸¸å®ç”¨çš„è€Œä¸”æœ‰åˆ©äºä¿ƒè¿›è‰¯å¥½çš„ç¼–ç é£æ ¼ã€‚</p>
<blockquote>
<p>æœ€ä½³å®è·µ:</p>
<ul>
<li>ä½¿ç”¨æ•°ç»„è§£æ„å»è·å–å…ƒç´ æˆ–äº¤æ¢å€¼ã€‚å®ƒå¯ä»¥é¿å…åˆ›å»ºä¸´æ—¶å¼•ç”¨ã€‚</li>
<li>ä¸è¦å¯¹å¤šä¸ªè¿”å›å€¼ä½¿ç”¨æ•°ç»„è§£æ„ï¼Œè€Œæ˜¯è¦ç”¨å¯¹è±¡è§£æ„ã€‚</li>
</ul>
</blockquote>
<h2 id="ç±»å’Œå¯¹è±¡"><a href="#ç±»å’Œå¯¹è±¡" class="headerlink" title="ç±»å’Œå¯¹è±¡"></a>ç±»å’Œå¯¹è±¡</h2><p>ç”¨ ECMAScript 6ï¼Œæˆ‘ä»¬ä»â€œæ„é€ å‡½æ•°â€ğŸ”¨ æ¥åˆ°äº†â€œç±»â€ğŸ¸ã€‚</p>
<blockquote>
<p>åœ¨ JavaScript ä¸­ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚æ‰€æœ‰çš„ JavaScript å¯¹è±¡éƒ½ä»å®ƒä»¬çš„åŸå‹å¯¹è±¡é‚£é‡Œç»§æ‰¿æ–¹æ³•å’Œå±æ€§ã€‚</p>
</blockquote>
<p>åœ¨ ES5 ä¸­ï¼Œä¸ºäº†å®ç°é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰ï¼Œæˆ‘ä»¬ä½¿ç”¨æ„é€ å‡½æ•°æ¥åˆ›å»ºå¯¹è±¡ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> Animal = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">MyConstructor</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  MyConstructor.prototype.speak = <span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> MyConstructor;</div><div class="line">&#125;)();</div><div class="line"><span class="keyword">var</span> animal = <span class="keyword">new</span> Animal(<span class="string">'animal'</span>);</div><div class="line">animal.speak(); <span class="comment">// animal makes a noise.</span></div></pre></td></tr></table></figure>
<p>ES6 ä¸­æœ‰äº†ä¸€äº›è¯­æ³•ç³–ã€‚é€šè¿‡åƒ <code>class</code> å’Œ <code>constructor</code> è¿™æ ·çš„å…³é”®å­—å’Œå‡å°‘æ ·æ¿ä»£ç ï¼Œæˆ‘ä»¬å¯ä»¥åšåˆ°åŒæ ·çš„äº‹æƒ…ã€‚å¦å¤–ï¼Œ<code>speak()</code> ç›¸å¯¹ç…§ <code>constructor.prototype.speak = function ()</code>  æ›´åŠ æ¸…æ™°ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(name) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' makes a noise.'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> animal = <span class="keyword">new</span> Animal(<span class="string">'animal'</span>);</div><div class="line">animal.speak(); <span class="comment">// animal makes a noise.</span></div></pre></td></tr></table></figure>
<p>æ­£å¦‚ä½ æ‰€è§ï¼Œä¸¤ç§å¼æ ·ï¼ˆES5 ä¸ 6ï¼‰åœ¨å¹•åäº§ç”Ÿç›¸åŒçš„ç»“æœè€Œä¸”ç”¨æ³•ä¸€è‡´ã€‚</p>
<blockquote>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>æ€»æ˜¯ä½¿ç”¨ <code>class</code> è¯­æ³•å¹¶é¿å…ç›´æ¥ç›´æ¥æ“çºµ <code>prototype</code>ã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå®ƒè®©ä»£ç æ›´åŠ ç®€æ´å’Œæ˜“äºç†è§£ã€‚</li>
<li>é¿å…ä½¿ç”¨ç©ºçš„æ„é€ å‡½æ•°ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œç±»æœ‰ä¸€ä¸ªé»˜è®¤çš„æ„é€ å‡½æ•°ã€‚</li>
</ul>
</blockquote>
<h2 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h2><p>åŸºäºå‰é¢çš„ <code>Animal</code> ç±»ã€‚ è®©æˆ‘ä»¬æ‰©å±•å®ƒå¹¶å®šä¹‰ä¸€ä¸ª <code>Lion</code> ç±»ã€‚</p>
<p>åœ¨ ES5 ä¸­ï¼Œå®ƒæ›´å¤šçš„ä¸åŸå‹ç»§æ‰¿æœ‰å…³ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> Lion = (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">MyConstructor</span>(<span class="params">name</span>)</span>&#123;</div><div class="line">    Animal.call(<span class="keyword">this</span>, name);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// åŸå‹ç»§æ‰¿</span></div><div class="line">  MyConstructor.prototype = <span class="built_in">Object</span>.create(Animal.prototype);</div><div class="line">  MyConstructor.prototype.constructor = Animal;</div><div class="line">  MyConstructor.prototype.speak = <span class="function"><span class="keyword">function</span> <span class="title">speak</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    Animal.prototype.speak.call(<span class="keyword">this</span>);</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' roars ğŸ¦'</span>);</div><div class="line">  &#125;;</div><div class="line">  <span class="keyword">return</span> MyConstructor;</div><div class="line">&#125;)();</div><div class="line"><span class="keyword">var</span> lion = <span class="keyword">new</span> Lion(<span class="string">'Simba'</span>);</div><div class="line">lion.speak(); <span class="comment">// Simba makes a noise.</span></div><div class="line"><span class="comment">// Simba roars.</span></div></pre></td></tr></table></figure>
<p>æˆ‘ä¸ä¼šé‡å¤æ‰€æœ‰çš„ç»†èŠ‚ï¼Œä½†è¯·æ³¨æ„ï¼š</p>
<ul>
<li>ç¬¬ 3 è¡Œä¸­ï¼Œæˆ‘ä»¬æ·»åŠ å‚æ•°æ˜¾å¼è°ƒç”¨äº† <code>Animal</code> æ„é€ å‡½æ•°ã€‚</li>
<li>ç¬¬ 7-8 è¡Œï¼Œæˆ‘ä»¬å°† <code>Lion</code> åŸå‹æŒ‡æ´¾ç»™ <code>Animal</code> åŸå‹ã€‚</li>
<li>ç¬¬ 11è¡Œä¸­ï¼Œæˆ‘ä»¬è°ƒç”¨äº†çˆ¶ç±» <code>Animal</code> çš„ <code>speak</code> æ–¹æ³•ã€‚</li>
</ul>
<p>åœ¨ ES6 ä¸­ï¼Œæˆ‘ä»¬æœ‰äº†æ–°å…³é”®è¯ <code>extends</code> å’Œ <code>super</code> <img src="http://adrianmejia.com/images/superman_shield.svg" width="25" height="25" alt="superman shield" style="display:inline-block;" data-pin-nopin="true">ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Lion</span> <span class="keyword">extends</span> <span class="title">Animal</span> </span>&#123;</div><div class="line">  speak() &#123;</div><div class="line">    <span class="keyword">super</span>.speak();</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">' roars ğŸ¦'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> lion = <span class="keyword">new</span> Lion(<span class="string">'Simba'</span>);</div><div class="line">lion.speak(); <span class="comment">// Simba makes a noise.</span></div><div class="line"><span class="comment">// Simba roars.</span></div></pre></td></tr></table></figure>
<p>è™½ç„¶ ES6 å’Œ ES5 çš„ä»£ç ä½œç”¨ä¸€è‡´ï¼Œä½†æ˜¯ ES6 çš„ä»£ç æ˜¾å¾—æ›´æ˜“è¯»ã€‚æ›´èƒœä¸€ç­¹ï¼</p>
<blockquote>
<p>æœ€ä½³å®è·µï¼š</p>
<ul>
<li>ä½¿ç”¨  <code>extends</code> å†…ç½®æ–¹æ³•å®ç°ç»§æ‰¿ã€‚</li>
</ul>
</blockquote>
<h2 id="åŸç”Ÿ-Promises"><a href="#åŸç”Ÿ-Promises" class="headerlink" title="åŸç”Ÿ Promises"></a>åŸç”Ÿ Promises</h2><p>ä»å›è°ƒåœ°ç‹± ğŸ‘¹ åˆ° promises ğŸ™ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAfterTimeout</span>(<span class="params">string, timeout, done</span>)</span>&#123;</div><div class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    done(string);</div><div class="line">  &#125;, timeout);</div><div class="line">&#125;</div><div class="line">printAfterTimeout(<span class="string">'Hello '</span>, <span class="number">2e3</span>, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(result);</div><div class="line">  <span class="comment">// åµŒå¥—å›è°ƒ</span></div><div class="line">  printAfterTimeout(result + <span class="string">'Reader'</span>, <span class="number">2e3</span>, <span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(result);</div><div class="line">  &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬æœ‰ä¸€ä¸ªæ¥æ”¶ä¸€ä¸ªå›è°ƒçš„å‡½æ•°ï¼Œå½“ <code>done</code> æ—¶æ‰§è¡Œã€‚æˆ‘ä»¬å¿…é¡»ä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ‰§è¡Œå®ƒä¸¤æ¬¡ã€‚è¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬åœ¨å›è°ƒä¸­ç¬¬äºŒæ¬¡è°ƒç”¨  <code>printAfterTimeout</code> çš„åŸå› ã€‚</p>
<p>å¦‚æœä½ éœ€è¦ç¬¬ 3 æ¬¡æˆ–ç¬¬ 4 æ¬¡å›è°ƒï¼Œå¯èƒ½å¾ˆå¿«å°±ä¼šå˜å¾—æ··ä¹±ã€‚æ¥çœ‹çœ‹æˆ‘ä»¬ç”¨ promises çš„å†™æ³•ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printAfterTimeout</span>(<span class="params">string, timeout</span>)</span>&#123;</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>((resolve, reject) =&gt; &#123;</div><div class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">      resolve(string);</div><div class="line">    &#125;, timeout);</div><div class="line">  &#125;);</div><div class="line">&#125;</div><div class="line">printAfterTimeout(<span class="string">'Hello '</span>, <span class="number">2e3</span>).then((result) =&gt; &#123;</div><div class="line">  <span class="built_in">console</span>.log(result);</div><div class="line">  <span class="keyword">return</span> printAfterTimeout(result + <span class="string">'Reader'</span>, <span class="number">2e3</span>);</div><div class="line">&#125;).then((result) =&gt; &#123;</div><div class="line">  <span class="built_in">console</span>.log(result);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>å¦‚ä½ æ‰€è§ï¼Œä½¿ç”¨ promises æˆ‘ä»¬èƒ½åœ¨å‡½æ•°å®Œæˆåè¿›è¡Œä¸€äº›æ“ä½œã€‚ä¸å†éœ€è¦åµŒå¥—å‡½æ•°ã€‚</p>
<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><p>ES6 æ²¡æœ‰ç§»é™¤å‡½æ•°è¡¨è¾¾å¼ï¼Œä½†æ˜¯æ–°å¢äº†ä¸€ç§ï¼Œå«åšç®­å¤´å‡½æ•°ã€‚</p>
<p>åœ¨ ES5 ä¸­ï¼Œå¯¹äº <code>this</code> æˆ‘ä»¬æœ‰ä¸€äº›é—®é¢˜ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> _this = <span class="keyword">this</span>; <span class="comment">// ä¿æŒä¸€ä¸ªå¼•ç”¨</span></div><div class="line">$(<span class="string">'.btn'</span>).click(<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">  _this.sendData(); <span class="comment">// å¼•ç”¨çš„æ˜¯å¤–å±‚çš„ this</span></div><div class="line">&#125;);</div><div class="line">$(<span class="string">'.input'</span>).on(<span class="string">'change'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">  <span class="keyword">this</span>.sendData(); <span class="comment">// å¼•ç”¨çš„æ˜¯å¤–å±‚çš„ this</span></div><div class="line">&#125;.bind(<span class="keyword">this</span>)); <span class="comment">// ç»‘å®šåˆ°å¤–å±‚çš„ this</span></div></pre></td></tr></table></figure>
<p>ä½ éœ€è¦ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶çš„ <code>this</code> åœ¨å‡½æ•°å†…éƒ¨è¿›è¡Œå¼•ç”¨æˆ–ç”¨ <code>bind</code> ç»‘å®šã€‚åœ¨ ES6 ä¸­ï¼Œä½ å¯ä»¥ç”¨ç®­å¤´å‡½æ•°ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="comment">// å¼•ç”¨çš„æ˜¯å¤–éƒ¨çš„é‚£ä¸ª this</span></div><div class="line">$(<span class="string">'.btn'</span>).click((event) =&gt;  <span class="keyword">this</span>.sendData());</div><div class="line"><span class="comment">// éšå¼è¿”å›</span></div><div class="line"><span class="keyword">const</span> ids = [<span class="number">291</span>, <span class="number">288</span>, <span class="number">984</span>];</div><div class="line"><span class="keyword">const</span> messages = ids.map(value =&gt; <span class="string">`ID is <span class="subst">$&#123;value&#125;</span>`</span>);</div></pre></td></tr></table></figure>
<h2 id="Forâ€¦of"><a href="#Forâ€¦of" class="headerlink" title="Forâ€¦of"></a>Forâ€¦of</h2><p>ä» <code>for</code> åˆ° <code>forEach</code> å†åˆ° <code>for...of</code>ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="comment">// for</span></div><div class="line"><span class="keyword">var</span> array = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; array.length; i++) &#123;</div><div class="line">  <span class="keyword">var</span> element = array[i];</div><div class="line">  <span class="built_in">console</span>.log(element);</div><div class="line">&#125;</div><div class="line"><span class="comment">// forEach</span></div><div class="line">array.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">element</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(element);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>ES6 çš„ forâ€¦of åŒæ ·å¯ä»¥å®ç°è¿­ä»£ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="comment">// for ...of</span></div><div class="line"><span class="keyword">const</span> array = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</div><div class="line"><span class="keyword">for</span> (<span class="keyword">const</span> element <span class="keyword">of</span> array) &#123;</div><div class="line">    <span class="built_in">console</span>.log(element);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="é»˜è®¤å‚æ•°"><a href="#é»˜è®¤å‚æ•°" class="headerlink" title="é»˜è®¤å‚æ•°"></a>é»˜è®¤å‚æ•°</h2><p>ä»æ£€æŸ¥ä¸€ä¸ªå˜é‡æ˜¯å¦è¢«å®šä¹‰åˆ°é‡æ–°æŒ‡å®šä¸€ä¸ªå€¼å†åˆ° <code>default parameters</code>ã€‚<br>ä½ ä»¥å‰å†™è¿‡ç±»ä¼¼è¿™æ ·çš„ä»£ç å—ï¼Ÿ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">point</span>(<span class="params">x, y, isFlag</span>)</span>&#123;</div><div class="line">  x = x || <span class="number">0</span>;</div><div class="line">  y = y || <span class="number">-1</span>;</div><div class="line">  isFlag = isFlag || <span class="literal">true</span>;</div><div class="line">  <span class="built_in">console</span>.log(x,y, isFlag);</div><div class="line">&#125;</div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 0 -1 true ğŸ˜±</span></div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>) <span class="comment">// 0 -1 true ğŸ˜±ğŸ˜±</span></div><div class="line">point(<span class="number">1</span>) <span class="comment">// 1 -1 true</span></div><div class="line">point() <span class="comment">// 0 -1 true</span></div></pre></td></tr></table></figure>
<p>å¯èƒ½æœ‰è¿‡ï¼Œè¿™æ˜¯ä¸€ç§æ£€æŸ¥å˜é‡æ˜¯å¦èµ‹å€¼çš„å¸¸è§æ¨¡å¼ï¼Œä¸ç„¶åˆ™åˆ†é…ä¸€ä¸ªé»˜è®¤å€¼ã€‚ç„¶è€Œï¼Œè¿™é‡Œæœ‰ä¸€äº›é—®é¢˜ï¼š</p>
<ul>
<li>ç¬¬ 8 è¡Œä¸­ï¼Œæˆ‘ä»¬ä¼ å…¥ <code>0, 0</code> è¿”å›äº† <code>0, -1</code>ã€‚</li>
<li>ç¬¬ 9 è¡Œä¸­ï¼Œ æˆ‘ä»¬ä¼ å…¥ <code>false</code> ä½†æ˜¯è¿”å›äº† <code>true</code>ã€‚</li>
</ul>
<p>å¦‚æœä½ ä¼ å…¥ä¸€ä¸ªå¸ƒå°”å€¼ä½œä¸ºé»˜è®¤å‚æ•°æˆ–å°†å€¼è®¾ç½®ä¸º 0ï¼Œå®ƒä¸èƒ½æ­£å¸¸èµ·ä½œç”¨ã€‚ä½ çŸ¥é“ä¸ºä»€ä¹ˆå—ï¼Ÿåœ¨è®²å®Œ ES6 ç¤ºä¾‹åæˆ‘ä¼šå‘Šè¯‰ä½ ã€‚</p>
<p>ç”¨ ES6ï¼Œç°åœ¨ä½ å¯ä»¥ç”¨æ›´å°‘çš„ä»£ç åšåˆ°æ›´å¥½ï¼</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">point</span>(<span class="params">x = 0, y = -1, isFlag = true</span>)</span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(x,y, isFlag);</div><div class="line">&#125;</div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 0 0 true</span></div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>) <span class="comment">// 0 0 false</span></div><div class="line">point(<span class="number">1</span>) <span class="comment">// 1 -1 true</span></div><div class="line">point() <span class="comment">// 0 -1 true</span></div></pre></td></tr></table></figure>
<p>è¯·æ³¨æ„ç¬¬ 5 è¡Œå’Œç¬¬ 6 è¡Œï¼Œæˆ‘ä»¬å¾—åˆ°äº†é¢„æœŸçš„ç»“æœã€‚ES5 ç¤ºä¾‹åˆ™æ— æ•ˆã€‚é¦–å…ˆæ£€æŸ¥æ˜¯å¦ç­‰äº <code>undefined</code>ï¼Œå› ä¸º <code>false</code>ï¼Œ<code>null</code>ï¼Œ<code>undefined</code> å’Œ <code>0</code> éƒ½æ˜¯å‡å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é¿å¼€è¿™äº›æ•°å­—ï¼Œ</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">point</span>(<span class="params">x, y, isFlag</span>)</span>&#123;</div><div class="line">  x = x || <span class="number">0</span>;</div><div class="line">  y = <span class="keyword">typeof</span>(y) === <span class="string">'undefined'</span> ? <span class="number">-1</span> : y;</div><div class="line">  isFlag = <span class="keyword">typeof</span>(isFlag) === <span class="string">'undefined'</span> ? <span class="literal">true</span> : isFlag;</div><div class="line">  <span class="built_in">console</span>.log(x,y, isFlag);</div><div class="line">&#125;</div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>) <span class="comment">// 0 0 true</span></div><div class="line">point(<span class="number">0</span>, <span class="number">0</span>, <span class="literal">false</span>) <span class="comment">// 0 0 false</span></div><div class="line">point(<span class="number">1</span>) <span class="comment">// 1 -1 true</span></div><div class="line">point() <span class="comment">// 0 -1 true</span></div></pre></td></tr></table></figure>
<p>å½“æˆ‘ä»¬æ£€æŸ¥æ˜¯å¦ä¸º <code>undefined</code> åï¼Œè·å¾—äº†æœŸæœ›çš„ç»“æœã€‚</p>
<h2 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h2><p>ä»å‚æ•°åˆ°å‰©ä½™å‚æ•°å’Œæ‰©å±•æ“ä½œç¬¦ã€‚</p>
<p>åœ¨ ES5 ä¸­ï¼Œè·å–ä»»æ„æ•°é‡çš„å‚æ•°æ˜¯éå¸¸éº»çƒ¦çš„ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span>(<span class="params">format</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> params = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'params: '</span>, params);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'format: '</span>, format);</div><div class="line">&#125;</div><div class="line">printf(<span class="string">'%s %d %.2f'</span>, <span class="string">'adrian'</span>, <span class="number">321</span>, <span class="built_in">Math</span>.PI);</div></pre></td></tr></table></figure>
<p>æˆ‘ä»¬å¯ä»¥ç”¨ rest æ“ä½œç¬¦ <code>...</code> åšåˆ°åŒæ ·çš„äº‹æƒ…ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">printf</span>(<span class="params">format, ...params</span>) </span>&#123;</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'params: '</span>, params);</div><div class="line">  <span class="built_in">console</span>.log(<span class="string">'format: '</span>, format);</div><div class="line">&#125;</div><div class="line">printf(<span class="string">'%s %d %.2f'</span>, <span class="string">'adrian'</span>, <span class="number">321</span>, <span class="built_in">Math</span>.PI);</div></pre></td></tr></table></figure>
<h2 id="å±•å¼€è¿ç®—ç¬¦"><a href="#å±•å¼€è¿ç®—ç¬¦" class="headerlink" title="å±•å¼€è¿ç®—ç¬¦"></a>å±•å¼€è¿ç®—ç¬¦</h2><p>ä» <code>apply()</code> åˆ°å±•å¼€è¿ç®—ç¬¦ã€‚æˆ‘ä»¬åŒæ ·ç”¨ <code>...</code> æ¥è§£å†³ï¼š</p>
<blockquote>
<p>æé†’ï¼šæˆ‘ä»¬ä½¿ç”¨ <code>apply()</code> å°†æ•°ç»„è½¬æ¢ä¸ºä¸€åˆ—å‚æ•°ã€‚ä¾‹å¦‚ï¼Œ<code>Math.max()</code> ä½œç”¨äºä¸€åˆ—å‚æ•°ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°ç»„ï¼Œæˆ‘ä»¬å°±èƒ½ç”¨ <code>apply</code> è®©å®ƒç”Ÿæ•ˆã€‚</p>
</blockquote>
<p><img src="http://adrianmejia.com/images/javascript-math-apply-arrays.png" alt="" title="JavaScript Math apply for arrays"></p>
<p>æ­£å¦‚æˆ‘ä»¬è¾ƒæ—©ä¹‹å‰çœ‹è¿‡çš„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>apply</code> å°†æ•°ç»„ä½œä¸ºå‚æ•°åˆ—è¡¨ä¼ é€’ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, [<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>]) <span class="comment">// 100</span></div></pre></td></tr></table></figure>
<p>åœ¨ ES6 ä¸­ï¼Œä½ å¯ä»¥ç”¨å±•å¼€è¿ç®—ç¬¦ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="built_in">Math</span>.max(...[<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>]) <span class="comment">// 100</span></div></pre></td></tr></table></figure>
<p>åŒæ ·ï¼Œä» <code>concat</code> æ•°ç»„åˆ°ä½¿ç”¨å±•å¼€è¿ç®—ç¬¦ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES5</span></div><div class="line"><span class="keyword">var</span> array1 = [<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>];</div><div class="line"><span class="keyword">var</span> array2 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</div><div class="line"><span class="keyword">var</span> array3 = [<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>];</div><div class="line"><span class="built_in">console</span>.log(array1.concat(array2, array3));</div></pre></td></tr></table></figure>
<p>åœ¨ ES6 ä¸­ï¼Œä½ å¯ä»¥ç”¨å±•å¼€è¿ç®—ç¬¦æ¥å‹å¹³åµŒå¥—ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// ES6</span></div><div class="line"><span class="keyword">const</span> array1 = [<span class="number">2</span>,<span class="number">100</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">43</span>];</div><div class="line"><span class="keyword">const</span> array2 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>];</div><div class="line"><span class="keyword">const</span> array3 = [<span class="literal">false</span>, <span class="literal">true</span>, <span class="literal">null</span>, <span class="literal">undefined</span>];</div><div class="line"><span class="built_in">console</span>.log([...array1, ...array2, ...array3]);</div></pre></td></tr></table></figure>
<h1 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h1><p>JavaScript ç»å†äº†ç›¸å½“å¤šçš„ä¿®æ”¹ã€‚è¿™ç¯‡æ–‡ç« æ¶µç›–äº†æ¯ä¸ª JavaScript å¼€å‘è€…éƒ½åº”è¯¥äº†è§£çš„å¤§å¤šæ•°æ ¸å¿ƒåŠŸèƒ½ã€‚åŒæ ·ï¼Œæˆ‘ä»¬ä¹Ÿä»‹ç»äº†ä¸€äº›è®©ä½ çš„ä»£ç æ›´åŠ ç®€æ´ï¼Œæ˜“äºç†è§£çš„æœ€ä½³å®è·µã€‚</p>
</div><div class="tags"><a href="/tags/JavaScript/">JavaScript</a></div><div class="post-nav"><a href="/2016/11/13/ES6å­¦ä¹ ç¬”è®°-ä¸€/" class="pre">ES6å­¦ä¹ ç¬”è®°(ä¸€)</a><a href="/2016/10/01/JavaScriptæ€ç»´å¯¼å›¾/" class="next">JavaScriptæ€ç»´å¯¼å›¾</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=1.0.0"><script src="/js/gitment.browser.js?v=1.0.0"></script><script>var gitment = new Gitment({
  owner: 'k-water',
  repo: 'k-water.github.io',
  oauth: {
    client_id: 'b80d9a577bec58f5cd74',
    client_secret: 'bb14317e485db9a408465da9eac80af12e340ad9',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://waterlin.cn"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/more/"><!--more--></a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Algorithm/">Algorithm</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/BackEnd/">BackEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/FontEnd/">FontEnd</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Server/">Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Tool/">Tool</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="/tags/CSS3/" style="font-size: 15px;">CSS3</a> <a href="/tags/HTML5/" style="font-size: 15px;">HTML5</a> <a href="/tags/jQuery/" style="font-size: 15px;">jQuery</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/blog/" style="font-size: 15px;">blog</a> <a href="/tags/Algorithm/" style="font-size: 15px;">Algorithm</a> <a href="/tags/Data-struct/" style="font-size: 15px;">Data struct</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/BFC/" style="font-size: 15px;">BFC</a> <a href="/tags/Sass/" style="font-size: 15px;">Sass</a> <a href="/tags/Browser/" style="font-size: 15px;">Browser</a> <a href="/tags/HTTP/" style="font-size: 15px;">HTTP</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/ES6/" style="font-size: 15px;">ES6</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/Vue/" style="font-size: 15px;">Vue</a> <a href="/tags/è½¬è½½/" style="font-size: 15px;">è½¬è½½</a> <a href="/tags/æœåŠ¡å™¨/" style="font-size: 15px;">æœåŠ¡å™¨</a> <a href="/tags/MongoDB/" style="font-size: 15px;">MongoDB</a> <a href="/tags/æ±‡ç¼–/" style="font-size: 15px;">æ±‡ç¼–</a> <a href="/tags/IFE/" style="font-size: 15px;">IFE</a> <a href="/tags/VSCode/" style="font-size: 15px;">VSCode</a> <a href="/tags/Electron/" style="font-size: 15px;">Electron</a> <a href="/tags/RegExp/" style="font-size: 15px;">RegExp</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/underscoreæºç å­¦ä¹ ï¼ˆå…«ï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆå…«ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/29/underscoreæºç å­¦ä¹ ï¼ˆä¸ƒï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆä¸ƒï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/27/underscoreæºç å­¦ä¹ ï¼ˆå…­ï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆå…­ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/26/underscoreæºç å­¦ä¹ ï¼ˆäº”ï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆäº”ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/22/underscoreæºç å­¦ä¹ ï¼ˆå››ï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆå››ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/underscoreæºç å­¦ä¹ ï¼ˆä¸‰ï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆä¸‰ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/17/underscoreæºç å­¦ä¹ ï¼ˆäºŒï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆäºŒï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/15/underscoreæºç å­¦ä¹ ï¼ˆä¸€ï¼‰/">underscoreæºç å­¦ä¹ ï¼ˆä¸€ï¼‰</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/22/JavaScript-Sorting-Algorithm/">JavaScript Sorting Algorithm</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/18/åœ¨Vueä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“/">åœ¨Vueä¸­ä½¿ç”¨ç¬¬ä¸‰æ–¹åº“</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="http://blog.lxstart.net/" title="x-cold" target="_blank">x-cold</a><ul></ul><a href="http://www.cnblogs.com/liuweimingcprogram" title="SCAU_L" target="_blank">SCAU_L</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2016-2017 <a href="/." rel="nofollow">WaterBlog.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=1.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=1.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" color="0,0,0" opacity="0.5" zIndex="-2" count="50" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=1.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=1.0.0"></script><script type="text/javascript" src="/js/background-canvas.js?v=1.0.0"></script></div></body></html>